

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/others/favicon.png">
  <link rel="icon" href="/img/others/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Brraida Hu">
  <meta name="keywords" content="">
  
    <meta name="description" content="​	有时候只是当时需要获取某网站的信息，但是该网站需要登录邮箱，而选择登录自己的邮箱，一是泄漏了不必要泄漏的信息，二是可能之后会被广告炮轰。所以使用临时邮箱，就有了必要性和实用性。">
<meta property="og:type" content="article">
<meta property="og:title" content="临时邮箱">
<meta property="og:url" content="https://brraida.github.io/posts/b891a459/index.html">
<meta property="og:site_name" content="SunMonkey">
<meta property="og:description" content="​	有时候只是当时需要获取某网站的信息，但是该网站需要登录邮箱，而选择登录自己的邮箱，一是泄漏了不必要泄漏的信息，二是可能之后会被广告炮轰。所以使用临时邮箱，就有了必要性和实用性。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://brraida.github.io/img/cover/tmpmail.png">
<meta property="article:published_time" content="2021-09-07T02:03:42.000Z">
<meta property="article:modified_time" content="2022-06-09T14:31:10.000Z">
<meta property="article:author" content="Brraida Hu">
<meta property="article:tag" content="tools">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://brraida.github.io/img/cover/tmpmail.png">
  
  
  
  <title>临时邮箱 - SunMonkey</title>

  <link  rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/5.1.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://cdn.staticfile.org/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.css" />

  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"brraida.github.io","root":"/","version":"1.9.1","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<!-- hexo injector head_end start --><script async defer data-website-id="4fe01508-0ef6-4111-9b3f-45ba202c37ad" src="https://huumami.herokuapp.com/umami.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="SunMonkey" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>harbour</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="https://brraida.github.io/atom.xml">
                <i class="iconfont icon-rss"></i>
                rss
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="临时邮箱"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2021-09-07 10:03" pubdate>
          2021年9月7日 上午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          <!-- compatible with older versions-->
          113 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">临时邮箱</h1>
            
            <div class="markdown-body">
              
              <p>​	有时候只是当时需要获取某网站的信息，但是该网站需要登录邮箱，而选择登录自己的邮箱，一是泄漏了不必要泄漏的信息，二是可能之后会被广告炮轰。所以使用临时邮箱，就有了必要性和实用性。</p>
<span id="more"></span>

<blockquote>
<p>github项目:</p>
<p><a target="_blank" rel="noopener" href="https://github.com/sdushantha/tmpmail">sdushantha&#x2F;tmpmail: A temporary email right from your terminal written in POSIX sh (github.com)</a></p>
</blockquote>
<h2 id="centos7安装tmpmail"><a href="#centos7安装tmpmail" class="headerlink" title="centos7安装tmpmail"></a>centos7安装tmpmail</h2><h3 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum install -y w3m curl jq</code></pre></div></figure>



<h3 id="安装tmpmail"><a href="#安装tmpmail" class="headerlink" title="安装tmpmail"></a>安装tmpmail</h3><p>安装github教程安装</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># Download the tmpmail file and make it executable
curl -L &quot;https:&#x2F;&#x2F;git.io&#x2F;tmpmail&quot; &gt; tmpmail &amp;&amp; chmod +x tmpmail

# Then move it somewhere in your $PATH. Here is an example:
mv tmpmail ~&#x2F;bin&#x2F;</code></pre></div></figure>



<p>可能和我一样，莫名其妙下载不了，那么可以</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># 创建tmpmail文件并编辑
vim tmpmail</code></pre></div></figure>



<figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># 将以下代码复制进入文件
#!&#x2F;usr&#x2F;bin&#x2F;env sh
# by Siddharth Dushantha 2020
#
# Dependencies: jq, curl, w3m
#

version&#x3D;1.1.9

# By default &#39;tmpmail&#39; uses &#39;w3m&#39; as it&#39;s web browser to render
# the HTML of the email
browser&#x3D;&quot;w3m&quot;

# If the value is set to &#39;true&#39; tmpmail will convert the HTML email
# to raw text and send that to stdout
raw_text&#x3D;false

# Everything related to &#39;tmpmail&#39; will be stored in &#x2F;tmp&#x2F;tmpmail
# so that the old emails and email addresses get cleared after
# restarting the computer
tmpmail_dir&#x3D;&quot;&#x2F;tmp&#x2F;tmpmail&quot;

# tmpmail_email_address is where we store the temporary email address
# that gets generated. This prevents the user from providing
# the email address everytime they run tmpmail
tmpmail_email_address&#x3D;&quot;$tmpmail_dir&#x2F;email_address&quot;

# tmpmail.html is where the email gets stored.
# Even though the file ends with a .html extension, the raw text version of
# the email will also be stored in this file so that w3m and other browsers
# are able to open this file
tmpmail_html_email&#x3D;&quot;$tmpmail_dir&#x2F;tmpmail.html&quot;

# Default 1secmail API URL
tmpmail_api_url&#x3D;&quot;https:&#x2F;&#x2F;www.1secmail.com&#x2F;api&#x2F;v1&#x2F;&quot;

usage() &#123;
    # Using &#39;cat &lt;&lt; EOF&#39; we can easily output a multiline text. This is much
    # better than using &#39;echo&#39; for each line or using &#39;\n&#39; to create a new line.
    cat &lt;&lt;EOF
tmpmail
tmpmail -h | --version
tmpmail -g [ADDRESS]
tmpmail [-t | -b BROWSER] -r | ID
When called with no option and no argument, tmpmail lists the messages in
the inbox and their numeric IDs.  When called with one argument, tmpmail
shows the email message with specified ID.
-b, --browser BROWSER
        Specify BROWSER (default: w3m) that is used to render the HTML of
        the email
-g, --generate [ADDRESS]
        Generate a new email address, either the specified ADDRESS, or
        randomly create one
-h, --help
        Show help
-r, --recent
        View the most recent email message
-t, --text
        View the email as raw text, where all the HTML tags are removed.
        Without this option, HTML is used.
--version
        Show version
EOF
&#125;

generate_email_address() &#123;
    # There are 2 ways which this function is called in this script.
    #  [1] The user wants to generate a new email and runs &#39;tmpmail --generate&#39;
    #  [2] The user runs &#39;tmpmail&#39; to check the inbox , but &#x2F;tmp&#x2F;tmpmail&#x2F;email_address
    #      is empty or nonexistant. Therefore a new email gets automatically
    #      generated before showing the inbox. But of course the inbox will
    #      be empty as the newly generated email address has not been
    #      sent any emails.
    #
    # When the function &#39;generate_email_address()&#39; is called with the arguement
    # &#39;true&#39;, it means that the function was called because the user
    # ran &#39;tmpmail --generate&#39;.
    #
    # We need this variable so we can know whether or not we need to show the user
    # what the email was. &lt;-- More about this can be found further down in this function.
    externally&#x3D;$&#123;1:-false&#125;

    # This variable lets generate_email_address know if the user has provided a custom
    # email address which they want to use. custom is set to false if $2 has no value.
    custom&#x3D;$&#123;2:-false&#125;

    # Generate a random email address.
    # This function is called whenever the user wants to generate a new email
    # address by running &#39;tmpmail --generate&#39; or when the user runs &#39;tmpmail&#39;
    # but &#x2F;tmp&#x2F;tmpmail&#x2F;email_address is empty or nonexistent.
    #
    # We create a random username by taking the first 10 lines from &#x2F;dev&#x2F;random
    # and delete all the characters which are *not* lower case letters from A to Z.
    # So charcters such as dashes, periods, underscore, and numbers are all deleted,
    # giving us a text which only contains lower case letters form A to Z. We then take
    # the first 10 characters, which will be the username of the email address
    username&#x3D;$(head &#x2F;dev&#x2F;urandom | LC_ALL&#x3D;C tr -dc &quot;[:alnum:]&quot; | cut -c1-11 | tr &quot;[:upper:]&quot; &quot;[:lower:]&quot;)

    valid_email_address_regex&#x3D;&quot;[a-z0-9]+@(1secmail\.(com|net|org)|esiix.co|wwjmp.com|xojxe.com|yoggm.com)&quot;
    username_black_list_regex&#x3D;&quot;(abuse|webmaster|contact|postmaster|hostmaster|admin)&quot;
    username_black_list&#x3D;&quot;- abuse\n- webmaster\n- contact\n- postmaster\n- hostmaster\n- admin&quot;
    domains&#x3D;&quot;1secmail.com 1secmail.net 1secmail.org esiix.com wwjmp.com xojxe.com yoggm.com&quot; 

    # Randomly pick one of the domains mentiond above.
    domain&#x3D;$(printf &quot;%b&quot; &quot;$domains&quot; | tr &quot; &quot; &quot;\n&quot; | randomize | tail -1)

    email_address&#x3D;&quot;$username@$domain&quot;

    # If the user provided a custom email address then use that email address
    if [ &quot;$custom&quot; !&#x3D; false ]; then
        email_address&#x3D;$custom

        # Check if the user is using username in the email address which appears
        # in the black list.
        if printf %b &quot;$email_address&quot; | grep -Eq &quot;$username_black_list_regex&quot;; then
            print_error &quot;For security reasons, that username cannot be used. Here are the blacklisted usernames:\n$username_black_list&quot;
        fi

        # Do a regex check to see if the email address provided by the user is a
        # valid email address
        if ! printf %b &quot;$email_address&quot; | grep -Eq &quot;$valid_email_address_regex&quot;; then
            print_error &quot;Provided email is invalid. Must match $valid_email_address_regex&quot;
        fi
    fi

    # Save the generated email address to the $tmpmail_email_address file
    # so that it can be whenever &#39;tmpmail&#39; is run
    printf %s &quot;$email_address&quot; &gt;&quot;$tmpmail_email_address&quot;

    # If this function was called because the user wanted to generate a new
    # email address, show them the email address
    [ &quot;$externally&quot; &#x3D; true ] &amp;&amp; cat &quot;$tmpmail_email_address&quot; &amp;&amp; printf &quot;\n&quot;
&#125;

get_email_address() &#123;
    # This function is only called once and that is when this script
    # get executed. The output of this function gets stored in $email_address
    #
    # If the file that contains the email address is empty,
    # that means we do not have an email address, so generate one.
    [ ! -s &quot;$tmpmail_email_address&quot; ] &amp;&amp; generate_email_address

    # Output the email address by getting the first line of $tmpmail_email
    head -n 1 &quot;$tmpmail_email_address&quot;
&#125;

list_emails() &#123;
    # List all the received emails in a nicely formatted order
    #
    # Fetch the email data using 1secmail&#39;s API
    data&#x3D;$(curl -sL &quot;$tmpmail_api_url?action&#x3D;getMessages&amp;login&#x3D;$username&amp;domain&#x3D;$domain&quot;)

    # Using &#39;jq&#39; we get the length of the JSON data. From this we can determine whether or not
    # the email address has gotten any emails
    data_length&#x3D;$(printf %s &quot;$data&quot; | jq length)

    # We are showing what email address is currently being used
    # in case the user has forgotten what the email address was.
    printf &quot;[ Inbox for %s ]\n\n&quot; &quot;$email_address&quot;

    # If the length of the data we got is 0, that means the email address
    # has not received any emails yet.
    [ &quot;$data_length&quot; -eq 0 ] &amp;&amp; echo &quot;No new mail&quot; &amp;&amp; exit

    # This is where we store all of our emails, which is then
    # displayed using &#39;column&#39;
    inbox&#x3D;&quot;&quot;

    # Go through each mail that has been received
    index&#x3D;1
    while [ $index -le &quot;$&#123;data_length&#125;&quot; ]; do
        # Since arrays in JSON data start at 0, we must subtract
        # the value of $index by 1 so that we dont miss one of the
        # emails in the array
        mail_data&#x3D;$(printf %s &quot;$data&quot; | jq -r &quot;.[$index-1]&quot;)
        id&#x3D;$(printf %s &quot;$mail_data&quot; | jq -r &quot;.id&quot;)
        from&#x3D;$(printf %s &quot;$mail_data&quot; | jq -r &quot;.from&quot;)
        subject&#x3D;$(printf %s &quot;$mail_data&quot; | jq -r &quot;.subject&quot;)

        # The &#39;||&#39; are used as a divideder for &#39;column&#39;. &#39;column&#39; will use this divider as
        # a point of reference to create the division. By default &#39;column&#39; uses a blank space
        # but that would not work in our case as the email subject could have multiple white spaces
        # and &#39;column&#39; would split the words that are seperated by white space, in different columns.
        inbox&#x3D;&quot;$inbox$id ||$from ||$subject\n&quot;
        index&#x3D;$((index + 1))
    done

    # Show the emails cleanly
    printf &quot;%b&quot; &quot;$inbox&quot; | column -t -s &quot;||&quot;
&#125;

randomize() &#123;
    # We could use &#39;shuf&#39; and &#39;sort -R&#39; but they are not a part of POSIX
    awk &#39;BEGIN &#123;srand();&#125; &#123;print rand(), $0&#125;&#39; | \
        sort -n -k1 | cut -d&#39; &#39; -f2
&#125;

view_email() &#123;
    # View an email by providing it&#39;s ID
    #
    # The first argument provided to this function will be the ID of the email
    # that has been received
    email_id&#x3D;&quot;$1&quot;
    data&#x3D;$(curl -sL &quot;$tmpmail_api_url?action&#x3D;readMessage&amp;login&#x3D;$username&amp;domain&#x3D;$domain&amp;id&#x3D;$email_id&quot;)

    # After the data is retrieved using the API, we have to check if we got any emails.
    # Luckly 1secmail&#39;s API is not complicated and returns &#39;Message not found&#39; as plain text
    # if our email address as not received any emails.
    # If we received the error message from the API just quit because there is nothing to do
    [ &quot;$data&quot; &#x3D; &quot;Message not found&quot; ] &amp;&amp; print_error &quot;Message not found&quot;

    # We pass the $data to &#39;jq&#39; which extracts the values
    from&#x3D;$(printf %s &quot;$data&quot; | jq -r &quot;.from&quot;)
    subject&#x3D;$(printf %s &quot;$data&quot; | jq -r &quot;.subject&quot;)
    html_body&#x3D;$(printf %s &quot;$data&quot; | jq -r &quot;.htmlBody&quot;)
    attachments&#x3D;$(printf %s &quot;$data&quot; | jq -r &quot;.attachments | length&quot;)
    
    # If you get an email that is in pure text, the .htmlBody field will be empty and
    # we will need to get the content from .textBody instead
    [ -z &quot;$html_body&quot; ] &amp;&amp; html_body&#x3D;&quot;&lt;pre&gt;$(printf %s &quot;$data&quot; | jq -r &quot;.textBody&quot;)&lt;&#x2F;pre&gt;&quot;

    # Create the HTML with all the information that is relevant and then
    # assigning that HTML to the variable html_mail. This is the best method
    # to create a multiline variable
    html_mail&#x3D;$(cat &lt;&lt;EOF
&lt;pre&gt;&lt;b&gt;To: &lt;&#x2F;b&gt;$email_address
&lt;b&gt;From: &lt;&#x2F;b&gt;$from
&lt;b&gt;Subject: &lt;&#x2F;b&gt;$subject&lt;&#x2F;pre&gt;
$html_body
EOF
)
    
    if [ ! &quot;$attachments&quot; &#x3D; &quot;0&quot; ]; then
        html_mail&#x3D;&quot;$html_mail&lt;br&gt;&lt;b&gt;[Attachments]&lt;&#x2F;b&gt;&lt;br&gt;&quot;

        index&#x3D;1
        while [ &quot;$index&quot; -le &quot;$attachments&quot; ]; do
            filename&#x3D;$(printf %s &quot;$data&quot; | jq -r &quot;.attachments | .[$index-1] | .filename&quot;)
            link&#x3D;&quot;$tmpmail_api_url?action&#x3D;download&amp;login&#x3D;$username&amp;domain&#x3D;$domain&amp;id&#x3D;$email_id&amp;file&#x3D;$filename&quot;
            html_link&#x3D;&quot;&lt;a href&#x3D;$link download&#x3D;$filename&gt;$filename&lt;&#x2F;a&gt;&lt;br&gt;&quot;

            if [ &quot;$raw_text&quot; &#x3D; true ]; then
                # The actual url is way too long and does not look so nice in STDOUT.
                # Therefore we will shortening it using is.gd so that it looks nicer.
                link&#x3D;$(curl -s -F&quot;url&#x3D;$link&quot; &quot;https:&#x2F;&#x2F;is.gd&#x2F;create.php?format&#x3D;simple&quot;)
                html_mail&#x3D;&quot;$html_mail$link  [$filename]&lt;br&gt;&quot;
            else
                html_mail&#x3D;&quot;$html_mail$html_link&quot;
            fi

            index&#x3D;$((index + 1))
        done
    fi

    # Save the $html_mail into $tmpmail_html_email
    printf %s &quot;$html_mail&quot; &gt;&quot;$tmpmail_html_email&quot;

    # If the &#39;--text&#39; flag is used, then use &#39;w3m&#39; to convert the HTML of
    # the email to pure text by removing all the HTML tags
    [ &quot;$raw_text&quot; &#x3D; true ] &amp;&amp; w3m -dump &quot;$tmpmail_html_email&quot; &amp;&amp; exit

    # Open up the HTML file using $browser. By default,
    # this will be &#39;w3m&#39;.
    $browser &quot;$tmpmail_html_email&quot;
&#125;


view_recent_email() &#123;
    # View the most recent email.
    #
    # This is done by listing all the received email like you
    # normally see on the terminal when running &#39;tmpmail&#39;.
    # We then grab the ID of the most recent
    # email, which the first line.
    mail_id&#x3D;$(list_emails | head -3 | tail -1 | cut -d&#39; &#39; -f 1)
    view_email &quot;$mail_id&quot;
&#125;

print_error() &#123;
    # Print error message
    #
    # The first argument provided to this function will be the error message.
    # Script will exit after printing the error message.
    printf &quot;%b\n&quot; &quot;Error: $1&quot; &gt;&amp;2
    exit 1
&#125;

main() &#123;
    # Iterate of the array of dependencies and check if the user has them installed.
    # We are checking if $browser is installed instead of checking for &#39;w3m&#39;. By doing
    # this, it allows the user to not have to install &#39;w3m&#39; if they are using another
    # browser to view the HTML
    for dependency in jq $browser curl; do
        if ! command -v &quot;$dependency&quot; &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1; then
            print_error &quot;Could not find &#39;$dependency&#39;, is it installed?&quot;
        fi
    done

    # Create the $tmpmail_dir directory and dont throw any errors
    # if it already exists
    mkdir -p &quot;$tmpmail_dir&quot;

    # Get the email address and save the value to the email_address variable
    email_address&#x3D;&quot;$(get_email_address)&quot;

    # $&#123;VAR#PATTERN&#125; Removes shortest match of pattern from start of a string.
    # In this case, it takes the email_address and removed everything after
    # the &#39;@&#39; symbol which gives us the username.
    username&#x3D;$&#123;email_address%@*&#125;

    # $&#123;VAR%PATTERN&#125; Remove shortest match of pattern from end of a string.
    # In this case, it takes the email_address and removes everything until the
    # period &#39;.&#39; which gives us the domain
    domain&#x3D;$&#123;email_address#*@&#125;

    # If no arguments are provided just the emails
    [ $# -eq 0 ] &amp;&amp; list_emails &amp;&amp; exit

    while [ &quot;$1&quot; ]; do
        case &quot;$1&quot; in
            --help | -h) usage &amp;&amp; exit ;;
            --generate | -g) generate_email_address true &quot;$2&quot; &amp;&amp; exit ;;
            --browser | -b) browser&#x3D;&quot;$2&quot; ;;
            --text | -t) raw_text&#x3D;true ;;
            --version) echo &quot;$version&quot; &amp;&amp; exit ;;
            --recent | -r) view_recent_email &amp;&amp; exit ;;
            *[0-9]*)
                # If the user provides number as an argument,
                # assume its the ID of an email and try getting
                # the email that belongs to the ID
                view_email &quot;$1&quot; &amp;&amp; exit
                ;;
            -*) print_error &quot;option &#39;$1&#39; does not exist&quot; ;;
        esac
        shift
    done
&#125;

main &quot;$@&quot;
</code></pre></div></figure>



<figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># 将文件变成可执行文件
chmod +x tmpmail

# 移动文件到系统或是用户的路径下(&#x2F;usr&#x2F;bin 或 &#x2F;usr&#x2F;local&#x2F;bin)
mv tmpmail &#x2F;usr&#x2F;local&#x2F;bin</code></pre></div></figure>



<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># 生成邮箱
tmpmail

# 重新生成邮箱
tmpmail --generate

# 查看邮箱有无邮件
tmpmail

# 以文本显示邮件信息
tmpmail -t &lt;ID&gt;</code></pre></div></figure>


              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/tools/">#tools</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>临时邮箱</div>
      <div>https://brraida.github.io/posts/b891a459/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Brraida Hu</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2021年9月7日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/posts/d1c9f41/" title="递归问题1">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">递归问题1</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/posts/7d2eca9c/" title="hexo的一些记录">
                        <span class="hidden-mobile">hexo的一些记录</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>






  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script  src="https://cdn.staticfile.org/prism/1.28.0/components/prism-core.min.js" ></script>

  <script  src="https://cdn.staticfile.org/prism/1.28.0/plugins/autoloader/prism-autoloader.min.js" ></script>

  <script  src="https://cdn.staticfile.org/prism/1.28.0/plugins/line-numbers/prism-line-numbers.min.js" ></script>

  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://cdn.staticfile.org/clipboard.js/2.0.11/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
